# AI Home Builder - Project Documentation

## 1. Current Application Architecture
The application is a 3D web experience built using **React**, **Three.js** (via React Three Fiber), and **Tailwind CSS**. It is designed as a foundational "stage" where 3D elements can be dynamically loaded and manipulated.

### How it Works (The "Movie Set" Analogy)
Think of the application as a digital movie set.

*   **The Director (`App.tsx`):** 
    *   This is the main controller. It holds the "State" of the application (e.g., Is the house built yet? Is it hidden?).
    *   It tells the UI what to show and tells the 3D scene what to render.

*   **The Stage (`Experience.tsx`):**
    *   This component sets up the physical world.
    *   It places the **Camera** (OrbitControls) so you can look around.
    *   It sets the **Lighting** (Sun, ambient light) and **Atmosphere** (Sky, fog) via `EnvironmentSettings.tsx`.
    *   It lays the **Foundation** (Ground plane and grid) via `Ground.tsx`.
    *   It decides *where* the house goes (The "Construction_Zone" group).

*   **The Actor (`House.tsx`):**
    *   This is the 3D house model.
    *   Unlike a static image, this component is alive. It uses **animation loops** (`useFrame`) to change the size and position of its parts (Walls, Roof, Windows) over time.
    *   When the "Generate" button is clicked, this component mounts, and its internal logic triggers the specific "bouncy" construction animation sequence.

*   **The Control Panel (`UIOverlay.tsx`):**
    *   This is a standard 2D web layer sitting *on top* of the 3D canvas.
    *   It communicates with the Director (`App.tsx`) to trigger changes in the 3D world.

---

## 2. Future Vision: Text-to-3D Home Generation
The ultimate goal is to move from a hard-coded house to a dynamic one generated by Artificial Intelligence based on user input.

### The Concept
Instead of clicking a button to spawn a *pre-defined* house, the user will type a prompt, and the application will build a unique structure matching that description.

**User Journey:**
1.  User types: *"I want a modern 2-story minimalist house with large windows and a flat roof."*
2.  **AI Processing:** The system interprets this text.
3.  **Visualization:** The house constructs itself component-by-component in the 3D scene.

### How to Implement (The "JSON Blueprint" Strategy)
We should not ask the AI to write 3D code directly (which is error-prone). Instead, we will ask the AI to generate a **Blueprint (JSON Data)**.

**Proposed Workflow:**

1.  **Input:** User Prompt sent to LLM (Gemini API).
2.  **Translation:** The LLM returns a structured JSON object.
    *   *Example Response:*
        ```json
        {
          "style": "modern",
          "floors": 2,
          "roof": { "type": "flat", "color": "#333" },
          "walls": { "color": "#white", "width": 10, "depth": 8 },
          "windows": ["large-glass-panel", "large-glass-panel"]
        }
        ```
3.  **Rendering:** The React application reads this JSON.
    *   `if (roof.type === 'flat') return <FlatRoof />`
    *   `if (floors === 2) return <SecondStory />`

This makes the system **Deterministic** (reliable) but **Infinite** (endless variations).

---

## 3. Feature Enhancements & Roadmap

### Phase 1: Enhanced Environment (Visuals)
*   **Dynamic Day/Night Cycle:** Change the sun position based on a slider.
*   **Vegetation:** Procedurally place trees and bushes around the house zone.
*   **Terrain:** Add slight elevations or landscaping rather than a perfectly flat plane.

### Phase 2: The Architect Engine (Logic)
*   **Modular Component System:** Break the `House.tsx` into smaller reusable lego blocks (`<Wall />`, `<Window />`, `<Door />`, `<Roof />`).
*   **Grid System:** Logic to ensure walls snap together cleanly without gaps.

### Phase 3: AI Integration (Intelligence)
*   **Prompt Interface:** Add a text input field to the UI Overlay.
*   **Blueprint Parser:** A function that takes AI JSON output and maps it to the Modular Component System.

### Phase 4: Interaction (UX)
*   **Interior Mode:** Allow the camera to zoom inside the house.
*   **Material Swapping:** Click on a wall to change it from Brick to Wood.
*   **Export:** A button to download the house as a `.obj` file for 3D printing or use in other software.
